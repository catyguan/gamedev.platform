-- bma/lang/FSM.lua
-- http://lua-users.org/wiki/FiniteStateMachine